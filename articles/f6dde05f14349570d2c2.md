---
title: "JSONã¨ã‹ã‚’Nodeã§Google Cloud Storageã¸ä¿å­˜ã™ã‚‹ã¨ãã¯saveãŒä¾¿åˆ©"
emoji: "ğŸ¦”"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Node.js", "GCP"]
published: false
---

ãªã‚“ã‹ç”Ÿæˆã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’GCSã¸ä¿å­˜ã—ãŸããªã£ãŸã®ã§ã„ã„æ„Ÿã˜ã®æ–¹æ³•ã‚’æ¢ã—ã¦ãŸã‘ã©GCPã®æƒ…å ±ãŒãƒãƒƒãƒˆã®ä¸–ç•Œã«å°‘ãªã„ã®ã§æ›¸ã„ã¦ã¿ãŸã€‚

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¿ãŸã‚‰createWriteStreamãŒè¼‰ã£ã¦ãŸã‘ã©ãã‚“ãªé¢å€’ãªãƒ¡ã‚½ãƒƒãƒ‰ä½¿ã‚ãªãã¦ã‚‚ãªã‚“ã‹ã‚ã‚‹ã‚„ã‚ã¨æ€ã£ã¦æ¢ã—ãŸã‚‰saveã£ã¦ã®ã‚’ä½¿ãˆã°ã‚ˆã„ã‚‰ã—ã„ã€‚

```jsx
async function uploadFile () {
  const storage = new Storage({
    projectId: "project-id",
    keyFilename: "your/secret/key/path.json"
  })
  const myBucket = storage.bucket("bucket-name")
  const file = myBucket.file("target/path.json")
  const contents = "your contents"
  await file.save(contents)
}
```

[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://googleapis.dev/nodejs/storage/latest/File.html#save)ã‚’æ›¸ã„ã¦ã‚ã‚‹ã¨ãŠã‚Šsaveã¯createWriteStreamã®wrapperã§ã™ã€‚

å‚è€ƒã«ã—ãŸ[stackoverflow](https://stackoverflow.com/questions/42879012/how-do-i-upload-a-base64-encoded-image-string-directly-to-a-google-cloud-stora)

ãªã«ã‹é–“é•ã£ã¦ãŸã‚Šã‚‚ã£ã¨è‰¯ã„æ–¹æ³•ãŒã‚ã£ãŸã‚‰ãœã²æ•™ãˆã¦ãã ã•ã„ã€‚